{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <h1>Dashboard</h1>

    {% if painel_admin %}
        <h2>Painel de Controle do Administrador ðŸš€</h2>

        <h3>RequisiÃ§Ãµes Pendentes ðŸ””</h3>
        <ul>
            {% for requisicao in pendentes %}
                <li>
                    {{ requisicao.material }} - {{ requisicao.status }} ({{ requisicao.usuario }})
                </li>
            {% empty %}
                <li>Nenhuma requisiÃ§Ã£o pendente.</li>
            {% endfor %}
        </ul>

        <h3>Todos os Materiais ðŸ“¦</h3>
        <ul>
            {% for material in materiais %}
                <li>{{ material.nome }} - Quantidade: {{ material.quantidade }}</li>
            {% empty %}
                <li>Nenhum material cadastrado.</li>
            {% endfor %}
        </ul>

        <h3>Todas as RequisiÃ§Ãµes ðŸ“‹</h3>
        <ul>
            {% for requisicao in requisicoes %}
                <li>
                    {{ requisicao.material }} - {{ requisicao.status }} ({{ requisicao.usuario }})
                </li>
            {% empty %}
                <li>Nenhuma requisiÃ§Ã£o cadastrada.</li>
            {% endfor %}
        </ul>

        <h3>HistÃ³rico de RequisiÃ§Ãµes ðŸ“‹</h3>
        <ul>
            {% for requisicao in requisicoes %}
                <li>
                    {{ requisicao.material }} - {{ requisicao.status }} ({{ requisicao.usuario }})
                </li>
            {% empty %}
                <li>Nenhuma requisiÃ§Ã£o foi atendida.</li>
            {% endfor %}
        </ul>
        <h3>Gerenciar UsuÃ¡rios ðŸ‘¤</h3  >
        <ul>
            {% for usuario in usuarios %}
                <li>
                    {{ usuario.username }} - {{ usuario.email }}
                    <a href="{% url 'editar_usuario' usuario.id %}">Editar</a>
                    <a href="{% url 'excluir_usuario' usuario.id %}">Excluir</a>
                </li>
            {% empty %}
                <li>Nenhum usuÃ¡rio cadastrado.</li>
            {% endfor %}
        </ul>

    {% else %}
        <h2>Minhas RequisiÃ§Ãµes ðŸ“„</h2>
        <ul>
            {% for requisicao in requisicoes_usuario %}
                <li>
                    {{ requisicao.material }} - {{ requisicao.status }}
                </li>
            {% empty %}
                <li>VocÃª ainda nÃ£o fez nenhuma requisiÃ§Ã£o.</li>
            {% endfor %}
        </ul>
    {% endif %}

</div>
{% endblock %}
